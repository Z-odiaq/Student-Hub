<!-- gestion_blog/templates/gestion_blog/uploads.html -->

{% include 'studenthub/base.html' %}

{% block title %}
    <h2 class="mt-3">Your Uploads</h2>
{% endblock %}

{% block content %}
    <div class="container mt-3">
        <div class="row">
            {% for resource in user.resource_set.all %}
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ resource.title }}</h5>
                            <p class="card-text">{{ resource.description }}</p>
                            <p class="card-text">Likes: {{ resource.likes.count }}</p>
                            <p class="card-text">Subject: {{ resource.subject }}</p>
                            <p class="card-text">Course: {{ resource.course }}</p>
                            <a href="{% url 'resource-detail' resource.id %}" class="btn btn-info btn-sm">View Details</a>
                            <a href="{% url 'edit-resource' resource.id %}" class="btn btn-warning btn-sm">Edit</a>
                            <a href="{% url 'delete-resource' resource.id %}" class="btn btn-danger btn-sm">Delete</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
